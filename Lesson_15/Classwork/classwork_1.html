<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <title>Lesson 15. Classwork 1</title>
    <meta charset="utf-8">
    <link href="../../libraries/bootstrap.css" rel="stylesheet" />
    <link href="../../libraries/bootstrap-theme.css" rel="stylesheet" />
    <script src="../../libraries/angular.js"></script>
    <style>
body{
  padding: 0 20px;
}
div{
  margin-top: 20px;
}
    </style>
    <script>
/*
Используя сервис $parse, реализуйте калькулятор без использования деректив.
*/

var data = { name: "<strong>Ivan</strong>" };

var module = angular.module("myApp", [])
  .controller("myAppCtrl", function ($scope, $parse) {
    $scope.calculate = function() {
      var tmp = $parse($scope.expression)();
      $scope.result = isFinite(tmp) ? tmp : 'Expression is incorrect'
    }

  });

    </script>
</head>

<body ng-controller="myAppCtrl">
  <h3>Enter expression:</h3>
  <input type="text" ng-model="expression" placeholder="like 2+3 or 5*5-5">
  <button ng-click="calculate()">Calculate</button>
  <div>Result: <strong>{{result}}</strong></div>
</body>
</html>
