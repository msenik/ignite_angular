<!DOCTYPE html>
<html ng-app="myApp">

<head>
  <title>Lesson 18. Classwork 1</title>
  <meta charset="utf-8">
  <link href="../../libraries/bootstrap.css" rel="stylesheet" />
  <link href="../../libraries/bootstrap-theme.css" rel="stylesheet" />
  <script src="../../libraries/angular.js"></script>
  <style>
    body {
      padding: 20px 20px;
    }
  </style>
  <script>
    /*
    Создайте директиву, которая создает кнопку,
    при нажатии на которую запускается счетчик
    (на экран начинают выводиться числа в возрастающей последовательности с интервалом в 1 с).
    */

    var app = angular.module("myApp", [])
    .directive("counter",function(){
      return {
        template: "<button ng-click='startCounter()'>Start counter</button><div style='margin-top:20px;'>{{currentVal}}</div>",
        controller: function ($scope, $interval) {
          $scope.currentVal = 0;
          $scope.interval = null;
          $scope.startCounter = function(){
            if($scope.interval){
              return;
            }
            $scope.interval = $interval(function(){
              $scope.currentVal++;
            },1000);
          }
        },
      }
    });
  </script>
</head>

<body>
  <div counter></div>
</body>

</html>
